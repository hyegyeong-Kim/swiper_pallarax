<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Í≤ÄÏÉâÎ∞î + ÏµúÍ∑ºÍ≤ÄÏÉâÏñ¥ ÏÇ≠Ï†úÎ≤ÑÌäº</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 50px;
      background: #f2f2f2;
    }

    .search-container {
      width: 300px;
      margin: 0 auto;
    }

    .search-box {
      position: relative;
      width: 100%;
    }

    .search-box input {
      width: 100%;
      padding: 10px 40px 10px 10px;
      font-size: 16px;
      box-sizing: border-box;
    }

    .search-box button {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      border: none;
      background: none;
      cursor: pointer;
      font-size: 16px;
      color: #555;
    }

    .suggestions,
    .recent-searches {
      background: #fff;
      border: 1px solid #ccc;
      max-height: 200px;
      overflow-y: auto;
      margin-top: 5px;
      padding: 10px;
      display: none;
      box-sizing: border-box;
    }

    .suggestions div,
    .recent-searches li {
      padding: 5px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .suggestions div:hover,
    .recent-searches li:hover {
      background: #efefef;
    }

    .recent-searches strong {
      display: block;
      margin-bottom: 5px;
    }

    .recent-searches ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .delete-btn {
      background: none;
      border: none;
      color: #888;
      font-size: 14px;
      cursor: pointer;
    }

    .delete-btn:hover {
      color: red;
    }
  </style>
</head>
<body>
  <div class="search-container">
    <div class="search-box">
      <input type="text" id="search-input" placeholder="Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." autocomplete="off" />
      <button id="search-btn">üîç</button>
    </div>

    <div class="suggestions" id="suggestions-box"></div>

    <div class="recent-searches" id="recent-box">
      <strong>ÏµúÍ∑º Í≤ÄÏÉâÏñ¥</strong>
      <ul id="recent-list"></ul>
    </div>
  </div>

  <script>
    const input = document.getElementById('search-input');
    const searchBtn = document.getElementById('search-btn');
    const suggestionsBox = document.getElementById('suggestions-box');
    const recentBox = document.getElementById('recent-box');
    const recentList = document.getElementById('recent-list');

    const relatedKeywords = [
      "ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏", "ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Î∞∞Ïó¥", "ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Ìï®Ïàò",
      "HTML ÌÉúÍ∑∏", "CSS Flexbox", "CSS Grid", "ÌîÑÎ°†Ìä∏ÏóîÎìú", "React"
    ];

    // ‚úÖ ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ Î∂àÎü¨Ïò§Í∏∞
    function loadRecentSearches() {
      const data = JSON.parse(localStorage.getItem("recentSearches") || "[]");
      recentList.innerHTML = "";

      data.slice(0, 5).forEach((item, index) => {
        const li = document.createElement("li");

        const span = document.createElement("span");
        span.textContent = item;
        span.style.flex = "1";
        span.onclick = () => {
          input.value = item;
          showSuggestions(item);
        };

        const deleteBtn = document.createElement("button");
        deleteBtn.innerHTML = "‚ùå";
        deleteBtn.className = "delete-btn";
        deleteBtn.onclick = (e) => {
          e.stopPropagation(); // ÏÇ≠Ï†úÎ≤ÑÌäº ÎàÑÎ•º Îïå Í≤ÄÏÉâÏñ¥ ÏûÖÎ†• Î∞©ÏßÄ
          deleteRecentSearch(item);
        };

        li.appendChild(span);
        li.appendChild(deleteBtn);
        recentList.appendChild(li);
      });

      recentBox.style.display = data.length ? "block" : "none";
    }

    // ‚úÖ ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ ÏÇ≠Ï†ú
    function deleteRecentSearch(keyword) {
      let history = JSON.parse(localStorage.getItem("recentSearches") || "[]");
      history = history.filter(item => item !== keyword);
      localStorage.setItem("recentSearches", JSON.stringify(history));
      loadRecentSearches();
    }

    // ‚úÖ ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ Ï†ÄÏû•
    function saveRecentSearch(keyword) {
      let history = JSON.parse(localStorage.getItem("recentSearches") || "[]");
      history = history.filter(item => item !== keyword);
      history.unshift(keyword);
      localStorage.setItem("recentSearches", JSON.stringify(history.slice(0, 10)));
      loadRecentSearches();
    }

    // ‚úÖ Ïó∞Í¥Ä Í≤ÄÏÉâÏñ¥ ÌëúÏãú
    function showSuggestions(keyword) {
      const matches = relatedKeywords.filter(word =>
        word.toLowerCase().includes(keyword.toLowerCase())
      );

      if (matches.length) {
        suggestionsBox.innerHTML = matches.map(item => `<div>${item}</div>`).join("");
        suggestionsBox.style.display = "block";

        suggestionsBox.querySelectorAll('div').forEach(div => {
          div.onclick = () => {
            input.value = div.textContent;
            suggestionsBox.style.display = "none";
          };
        });
      } else {
        suggestionsBox.style.display = "none";
      }
    }

    // ‚úÖ Í≤ÄÏÉâ Ïã§Ìñâ
    searchBtn.onclick = () => {
      const keyword = input.value.trim();
      if (!keyword) return;
      saveRecentSearch(keyword);
      suggestionsBox.style.display = "none";
      alert(`"${keyword}" Í≤ÄÏÉâ Ïã§Ìñâ!`);
    };

    // ‚úÖ ÏûÖÎ†• Ïãú ÏûêÎèôÏôÑÏÑ± ÌëúÏãú
    input.addEventListener('input', () => {
      const keyword = input.value.trim();
      if (keyword) {
        showSuggestions(keyword);
      } else {
        suggestionsBox.style.display = "none";
      }
    });

    loadRecentSearches();
  </script>
</body>
</html>
